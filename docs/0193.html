<html>
<head>
<title>How to customize Android's built-in Battery Saver mode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何自定义Android内置的省电模式</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/save-your-battery-with-superpower/#0001-01-01">https://www.xda-developers.com/save-your-battery-with-superpower/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p>Android内置电池省电模式已经很多年了。如果你的手机快没电了，你可以激活它，让手机多运行几个小时。电池保护程序禁用了相当多的耗电功能，并调整了一系列设置以延长电池寿命。虽然它对大多数人来说很有用，但有些人可能想调整它，使它不关闭某些设置或使它更积极地节省电池。如果这样描述你，那么这里有一个关于如何定制Android的电池节电模式的教程。</p>

  
<p>在我们开始之前，我们需要解释一下节电模式实际上是做什么的。<a href="https://support.google.com/pixelphone/answer/6187458#what_changes&amp;zippy=%2Cwhat-battery-saver-limits">根据谷歌支持页面</a>，以下是Pixel手机的电池保护限制:</p>

<section class="emaki-custom-block emaki-custom-expandable"><div class="emaki-custom expandable" id="custom_block_2"><h3 id="what-battery-saver-limits">什么电池节电限制</h3><ul> <li>只有当你打开应用程序时，应用程序才会刷新它们的内容，如电子邮件或新闻。</li> <li>当您的屏幕关闭时，定位服务会停止。</li> <li>应用程序不会在后台运行，除非您关闭电池优化。</li> <li>您的手机无法接听“Ok Google ”,无法继续对话。相反，每次点击谷歌助手。</li> <li>黑暗主题开启。</li> <li>您的通知可能会延迟。</li> <li>“总是显示时间和信息”将关闭。</li> <li>带有Active Edge的Pixel手机不会对挤压做出反应。</li> <li>在Pixel 3、Pixel 4以及更高版本的Pixel手机上，汽车碰撞检测功能会关闭。</li> <li>在Pixel 4手机上，运动感应关闭。</li> <li>在Pixel 4和更高版本的Pixel手机上，平滑显示关闭。</li> <li>5G的Pixel手机回落到4G服务。</li> </ul> </div></section>
<p>(谷歌Pixel 3和更高版本独有的是一个更强大的<a href="https://www.xda-developers.com/google-pixel-5-review/#:~:text=extreme%20battery%20saver%20option">极端电池节省模式</a>，但鉴于这是一个Pixel专有的功能，我们不会进一步谈论它。)</p>

<p>上面显示的列表实际上是不完整的:Android手机上的电池节省模式实际上比谷歌在支持页面上所说的更多。事实上，电池保护程序还会禁用应用启动增强、振动和动画等功能，并且还会限制面板的最大亮度。由于Android的电池节电模式是<a href="https://android.googlesource.com/platform/frameworks/base/+/master/services/core/java/com/android/server/power/batterysaver/BatterySaverPolicy.java">开源</a>的，并且可以通过设置表的命令行界面<a href="https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/provider/Settings.java#11478">来控制，因此可以调整电池节电模式，使其在禁用的方面更积极或更不积极。</a></p>

 
<h2 id="customize-android-s-battery-saver-mode">自定义安卓的省电模式</h2>
<h3 id="method-1---adb-shell">方法1 -亚行外壳</h3>
<ol> <li>遵循<a href="https://www.xda-developers.com/install-adb-windows-macos-linux/">这个指南</a>在你的电脑上设置ADB或者阅读<a href="https://www.xda-developers.com/debloat-your-phone-run-adb-shell-commands-no-root-no-pc">这篇文章</a>来学习如何设置一个本地ADB外壳。</li> <li>ADB启动并运行后，打开命令提示符或终端窗口，在shell中运行以下命令:<pre> <code class="hljs php">settings put <span class="hljs-keyword">global</span> battery_saver_constants <span class="hljs-string">"advertise_is_enabled=BOOLEAN,datasaver_disabled=BOOLEAN,enable_night_mode=BOOLEAN,launch_boost_disabled=BOOLEAN,vibration_disabled=BOOLEAN,animation_disabled=BOOLEAN,soundtrigger_disabled=BOOLEAN,fullbackup_deferred=BOOLEAN,keyvaluebackup_deferred=BOOLEAN,firewall_disabled=BOOLEAN,gps_mode=INTEGER,adjust_brightness_disabled=BOOLEAN,adjust_brightness_factor=FLOAT,force_all_apps_standby=BOOLEAN,force_background_check=BOOLEAN,optional_sensors_disabled=BOOLEAN,aod_disabled=BOOLEAN,quick_doze_enabled=BOOLEAN"</span></code> </pre>其中BOOLEAN是<code>true</code>或<code>false</code>，INTEGER是整数，FLOAT是小数。</li> <li>如果您想知道battery saver模式下的参数当前设置为什么，您可以运行以下ADB shell: <pre> <code class="hljs javascript">dumpsys power | grep -A <span class="hljs-number">128</span> <span class="hljs-string">"Battery saver policy"</span></code> </pre>这将显示当前的battery saver策略和所有参数值。或者，您可以检查:<pre> <code class="hljs javascript">settings <span class="hljs-keyword">get</span> global battery_saver_constants</code> </pre>的输出...但是，只有在您对该设置值进行了至少一次更改之后，它才会被填充。</li> <li>如果您想将节电模式恢复到默认参数，那么您可以运行<pre> <code class="hljs sql">settings <span class="hljs-keyword">delete</span> <span class="hljs-keyword">global</span> battery_saver_constants</code> </pre>或<pre> <code class="hljs php">settings put <span class="hljs-keyword">global</span> battery_saver_constants <span class="hljs-string">"advertise_is_enabled=true,datasaver_disabled=true,enable_night_mode=true,launch_boost_disabled=true,vibration_disabled=true,animation_disabled=false,soundtrigger_disabled=true,fullbackup_deferred=true,keyvaluebackup_deferred=true,firewall_disabled=true,gps_mode=2,adjust_brightness_disabled=true,adjust_brightness_factor=0.5,force_all_apps_standby=true,force_background_check=true,optional_sensors_disabled=true,aod_disabled=true,quick_doze_enabled=true"</span></code> </pre></li> </ol>

<p>自从我们上次讨论了如何通过命令行调整Android内置的电池节省模式之后，一个开发者开发了一个应用程序，它提供了一个GUI来改变这些参数。如果您不想手动运行shell命令和/或查看AOSP来找出每个参数的确切作用，那么请继续阅读。</p>

<h3 id="method-2---buoy-app">方法2 -浮标应用程序</h3>
<p>XDA认可的开发者<a href="https://forum.xda-developers.com/m/tytydraco.8155542/"> tytydraco </a>，我们前几天报道的<a href="https://www.xda-developers.com/debloat-your-phone-run-adb-shell-commands-no-root-no-pc"> LADB应用</a>的开发者，带着另一个名为Buoy的应用回来了。它被描述为“内置Android电池节省程序的扩展”，它所做的是暴露Android的隐藏参数，以自定义电池节省模式的行为。该应用程序允许您切换以下内容:</p>

<ul> <li>向其他应用通告低功耗模式已启用</li> <li>Android的计量WiFi或移动数据连接的数据保护程序</li> <li>内置黑暗模式</li> <li>启动boost以加速应用启动</li> <li>震动</li> <li>显示窗口和活动动画</li> <li>允许应用程序使用声音触发器HAL</li> <li>将完整设备备份推迟到以后</li> <li>将应用程序设置备份推迟到以后</li> <li>使用内置的web防火墙来防范可能的恶意站点</li> <li>更改应用程序的位置访问模式限制</li> <li>降低面板的最大亮度</li> <li>强制所有应用程序进入待机模式</li> <li>强制所有应用程序不在后台检查数据</li> <li>禁用不必要的传感器</li> <li>使用永远显示</li> <li>屏幕一关闭，设备就进入深度睡眠状态</li> </ul>

<p>它还可以让你切换“粘性”低功耗模式，这是Android 9 Pie 中添加的一个功能<a href="https://twitter.com/MishaalRahman/status/1040351524378079233">，当设备被拔掉电源或重新启动时，它可以让电池节电模式自动重新启用。</a></p>





<p>为了使用Buoy，你需要一台运行Android 8.0 Oreo或更高版本的Android设备，尽管可用参数会因Android版本而异。此外，您必须授予应用程序WRITE_SECURE_SETTINGS权限或root访问权限，才能更改设置值。Global.battery_saver_constants。我再一次向你推荐我们关于<a href="https://www.xda-developers.com/install-adb-windows-macos-linux/">如何建立ADB </a>或<a href="https://www.xda-developers.com/debloat-your-phone-run-adb-shell-commands-no-root-no-pc"> tytydraco的LADB应用</a>的文章，这样你就能做到。</p>

<p>如果您安装该应用程序并进行任何更改，请注意卸载该应用程序时更改不会自动恢复。你必须点击Buoy中的“reset”按钮，或者发送之前步骤4中提到的命令之一，以便将电池节电模式的参数恢复为默认值。</p>

 



<p>在美国，Buoy在Google Play上售价0.99美元，但它也是开源的，所以如果你愿意，你可以自己编译它。或者，你可以像我前面提到的那样，手动设置节电模式参数。如果你想让事情变得更简单，并支持开发者，那么你可以从Play Store购买应用程序。如果您有任何问题或反馈，请查看下面链接的XDA论坛上的开发人员帖子。</p>

<p/><p><strong> <a href="https://forum.xda-developers.com/t/meet-buoy-a-foss-battery-saver-configuration-tool.4258757/#post-84906249">浮标- XDA论坛线程</a> </strong></p>

 </div>


</div>    
</body>
</html>