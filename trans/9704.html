<html>
<head>
<title>Spotify open-sources its Ruler tool to help app devs analyze their app sizes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Spotify 开源其标尺工具，帮助应用开发者分析他们的应用大小</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/spotify-open-source-ruler-tool-app-sizes/#0001-01-01">https://www.xda-developers.com/spotify-open-source-ruler-tool-app-sizes/#0001-01-01</a></blockquote><div><header class="article_heading">


<h1 class="heading_title">Spotify 开源其标尺工具，帮助应用开发者分析他们的应用大小</h1>

<p class="heading_sharing">  </p>


<p class="heading_excerpt">Spotify 开源了其标尺工具，以帮助应用开发者分析他们的应用大小。这是识别大型依赖关系的简单方法。</p>



  </header>

<section id="article-body" class="article-body" itemprop="articleBody">

<div class="content-block-regular">
<p>在谷歌 Play 商店上安装应用程序时，用户通常喜欢较小的应用程序。这可能是因为有限的存储空间或有限的下载带宽，或者有些用户甚至只是喜欢更快的安装。然而，Spotify 有一个名为“尺子”的工具，它用来测量和分析其 Android 应用程序的大小，以找出如何缩小它们的目的。现在，该公司正在将该工具开源，供任何想要使用它的开发者免费使用。</p>

  



<p>谷歌 Play 商店上发布的应用现在通常以安卓应用捆绑包的形式上传。当用户请求安装应用程序时，谷歌 Play 商店会为安装应用程序的最终用户生成一个优化的 APK。Ruler 模仿这一过程来创建一个与最终用户应该收到的内容精确对应的 APK。对于每个文件，Ruler 会捕获两个测量值:</p>

<ol> <li><strong>下载大小:</strong>用户下载应用程序时通过网络传输的字节数</li> <li><strong>安装大小:</strong>应用程序安装后，文件在设备上占用的字节数</li> </ol>

<p>然后，Ruler 可以扫描一个应用程序，找到其中的文件列表及其大小。它还可以找到所有影响应用程序大小的 Gradle 模块和依赖项。通过这种方式，创建了包含所有组件及其内容的第二个列表。将这两个列表结合起来，就可以根据源文件对应用程序的所有文件进行分组，并确定每个模块和依赖项对整个应用程序大小的影响。还涉及到其他方法，值得查看该公司的<a href="https://engineering.atspotify.com/2022/02/introducing-ruler-our-tool-for-measuring-android-app-size/">工程博客文章</a>以了解更多信息。</p>

<p>Spotify 表示，Spotify 的主要应用程序有超过 1000 个 Gradle 模块和数百个第三方依赖项，在过去的六个月中，统治者已经帮助减少了应用程序大小的 9%多一点。该公司表示，它使用最新的主版本，每天导出一次应用程序大小数据。它可以使用这些数据来跟踪历史趋势，包括整个应用程序以及单个模块和第三方依赖关系。还分析了每个拉取请求对应用程序大小的影响，以便可以向开发人员提供早期反馈。</p>

<p>Ruler 完全是用 Kotlin 编写的，要使用它，你需要做的就是将插件应用到你的 Android 项目中，并运行一个 Gradle 任务。您可以查看 Ruler 的<a href="https://github.com/spotify/ruler"> GitHub </a>以了解如何将其集成到您的项目中。</p>

 </div>


<p id="article-waypoint"/>
</section>


        </div>    
</body>
</html>