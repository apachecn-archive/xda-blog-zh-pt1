<html>
<head>
<title>PSA: If your PC runs Linux, you should update Sudo now</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>PSA:如果你的PC运行Linux，你应该现在更新Sudo</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/linux-update-sudo-security-flaw/#0001-01-01">https://www.xda-developers.com/linux-update-sudo-security-flaw/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p>尽管事实上成千上万的贡献者积极地仔细研究Linux内核和各种Unix实用程序的源代码，寻找安全缺陷，但未被注意到的严重错误并不是闻所未闻。就在一天前，Qualys的人披露了一种新的基于堆的缓冲区溢出攻击向量，该向量以“Sudo”程序为目标来获得根访问权限。这次的bug好像还挺严重的，bug在代码库内部已经存在了差不多<strong> 10年</strong>！尽管特权提升漏洞已经被修补，但它仍有可能在<strong>几乎所有的Linux发行版</strong>和几个类似Unix的操作系统上被利用。</p>

 
<hr/>


<h2 id="enter-baron-samedit">萨梅迪男爵入场</h2>
<p>正式编目为<a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-3156"> CVE-2021-3156 </a>，该漏洞已被命名为<strong>巴龙·萨姆迪特</strong>。这个名字似乎是对巴隆·萨梅迪 和<code>sudoedit</code>实用程序的一种发挥，因为后者被用于其中一个漏洞利用路径。通过利用此漏洞，任何无权限的本地用户都可以在易受攻击的主机上拥有不受限制的超级用户权限。用更专业的术语来说，该错误涉及控制“user_args”缓冲区的大小(这意味着sudoers匹配和日志记录)，以便执行缓冲区溢出和错误地取消转义参数中的反斜杠，从而获得root权限。</p>

<p>[EMBED _ VIMEO]https://VIMEO . com/504872555[/EMBED _ VIMEO]</p>
<p class="ad-odd"> </p>


<h2 id="why-baron-samedit-is-a-critical-vulnerability">为什么巴隆·萨梅迪是一个致命的弱点</h2>
<p>可利用的代码<a href="https://github.com/sudo-project/sudo/commit/8255ed69">可以追溯到2011年7月</a>，它影响了所有从1.8.2到1.8.31p2的遗留Sudo版本以及所有从1.9.0到1.9.5p1的稳定版本的默认配置。据说这个安全漏洞很容易被利用:本地用户不需要是特权用户或者是sudoers列表的一部分。因此，任何运行相当现代的Linux发行版的设备都可能成为这个bug的受害者。事实上，Qualys的研究人员能够在Ubuntu 20.04 (Sudo 1.8.31)、Debian 10 (Sudo 1.8.27)和Fedora 33 (Sudo 1.9.2)上获得完全的root权限。</p>

<p>在XDA，我们通常欢迎普通用户获得root访问权限的能力，但我们并不庆祝像这样的root漏洞的存在，尤其是这样一个如此普遍并且对最终用户具有潜在的难以置信的危险的漏洞。该漏洞已在昨天发布的<a href="https://www.sudo.ws/alerts/unescape_overflow.html"> sudo版本1.9.5p2 </a>中修复，同时Qualys公开披露了他们的发现。我们要求读者尽快升级到sudo 1.9.5p2或更高版本。</p>
<div class="body-img landscape"><div class="responsive-img image-expandable img-article-item" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2021/01/xkcd-sandwich.jpg" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;Source: &lt;a href=\&quot;https:\/\/xkcd.com\/149\/\&quot;&gt;xkcd&lt;\/a&gt;&quot;">
 
<figure> <picture>  <source media="(min-width: 1024px)" sizes="1500px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2021/01/xkcd-sandwich.jpg?q=50&amp;fit=crop&amp;w=1500&amp;dpr=1.5"/> <source media="(min-width: 768px)" sizes="943px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2021/01/xkcd-sandwich.jpg?q=50&amp;fit=crop&amp;w=943&amp;dpr=1.5"/> <source media="(min-width: 481px)" sizes="767px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2021/01/xkcd-sandwich.jpg?q=50&amp;fit=crop&amp;w=767&amp;dpr=1.5"/> <source media="(min-width: 0px)" sizes="480px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2021/01/xkcd-sandwich.jpg?q=50&amp;fit=crop&amp;w=480&amp;dpr=1.5"/> <img class="lazyload" alt="xkcd sudo sandwich" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2021/01/xkcd-sandwich.jpg" src="../Images/9ff90d94266422c52d950f1c73e22d0d.png" data-original-src="https://static1.xdaimages.com/wordpress/wp-content/uploads/2021/01/xkcd-sandwich.jpg"/> </picture> <figcaption class="body-img-caption">Source: <a href="https://xkcd.com/149/">xkcd</a></figcaption> </figure> </div>


 </div>

<p class="ad-even"> </p>


<h2 id="how-to-check-if-you-re-affected-by-baron-samedit">如何检查自己是否受到巴隆·萨梅迪的影响</h2>
<p>如果您想测试您的Linux环境是否易受攻击，请以非root用户身份登录系统，然后运行以下命令:</p>

<pre> <code class="hljs ">sudoedit -s /</code> </pre>
<p>易受攻击的系统应该以一个以<code>sudoedit:</code>开头的错误来响应。但是，如果系统已经打了补丁，就会显示以<code>usage:</code>开头的错误。</p>

<hr/>

<p><strong>来源:<a href="https://blog.qualys.com/vulnerabilities-research/2021/01/26/cve-2021-3156-heap-based-buffer-overflow-in-sudo-baron-samedit"> Qualys博客</a>T3】</strong></p>

<p><strong> Via: <a href="https://www.bleepingcomputer.com/news/security/new-linux-sudo-flaw-lets-local-users-gain-root-privileges/">哔哔声电脑</a>T3】</strong></p>

 </div>


</div>    
</body>
</html>