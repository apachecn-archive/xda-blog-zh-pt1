<html>
<head>
<title>Google really wants to fix Android's emoji problem</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>谷歌真的想解决安卓的表情符号问题</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/android-emoji-problem-updateable-system-fonts-emojicompat-12l/#0001-01-01">https://www.xda-developers.com/android-emoji-problem-updateable-system-fonts-emojicompat-12l/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p>爱他们❤或恨他们🤬这些天来，表情符号已经成为一种主要的表达形式。这些小点为文字添加了情感和意图，没有它们，互联网上的对话将是不完整的。即使对于人际交流来说，表情符号也是一件大事——当表情符号起作用时，为什么要浪费时间说很多单词呢？因此，毫不奇怪，谷歌已经看到了 Android，并认为它有一个表情符号问题，并试图通过 Android 12 解决这个问题。</p>

 
<h2 id="android-and-its-emoji-problem">Android 及其表情符号问题</h2>
<p>表情符号是一件大事。表情符号的使用正处于历史最高水平，一些应用程序的用户每天发送数十亿个表情符号。喂养和跟上这些变化的是<a href="https://www.unicode.org/emoji/techindex.html"> Unicode 标准</a>，它经常收到添加新表情符号的更新。这些新的表情符号围绕新的用例、趋势甚至变化，使它们更好地代表多样性和包容性。</p>



<p>在 Android Dev Summit 2021 演示文稿中，谷歌称 96%的 Android 用户看不到最新的表情符号，与 16%的 iOS 用户看不到最新的表情符号形成鲜明对比。前 100 个表情符号占表情符号总份额的 82%。但对于这些份额中的 20%，发送者发送一个表情符号，但接收者只看到一个“豆腐”或由带 X 的方框表示的破碎图像，这意味着他们的手机系统没有相关的表情符号可以显示。</p>



<p>问题并没有随着财富而结束。在某些涉及新表情符号和旧版本 Android 的情况下，显示的表情符号最终成为公式化的表示，需要用户做一些心理体操来理解真正发生了什么。</p>





<p>在 Android 12 之前，每当 Unicode 获得新的表情符号时，我们都需要等待 Android 操作系统升级到我们的手机，以支持表情符号，然后我们才能真正让它们成为我们互联网行话的一部分。我们都知道 Android 的更新情况实际上有多糟糕。是的，有所改善。但是，除非你有一个旗舰，否则你可能仍然需要几个月的时间才能在稳定版本中获得最新更新。在这段时间里，很有可能会有更多新的表情符号被添加进来，让你远离当前的行话。</p>

<p>很明显，这里有一个问题，需要有一个解决方案。谷歌为自己设定了一个目标，让所有安卓用户都能在所有应用程序中使用每一个表情符号，它正在采取双管齐下的方法来实现这一目标。</p>


<p class="ad-odd"> </p>


<h2 id="solution-1-of-2-updateable-system-fonts-android-12-and-above">解决方案 1/2:可更新的系统字体(Android 12 及以上版本)</h2>
<p>从 Android S (Android 12)开始，谷歌推出了可更新的系统字体，他们将更新的第一种字体是表情符号字体。</p>



<p>我们在过去已经讨论过<a href="https://www.xda-developers.com/google-prepares-decouple-new-emojis-android-system-updates/">可更新的系统字体</a>，实际上差不多是一年前。在 Android 11 及以下版本中，Android 上的所有字体都存储在系统分区中，更具体地说，是在<em> /system/fonts </em>目录下。特别是表情符号，存在于名为<em> NotoColorEmoji.ttf </em>的文件中。系统分区是只读的，更新分区内的任何文件都需要在分区未挂载时进行系统更新。因此，获得新字体和新表情符号的唯一方法是等待官方 OTA 更新，或者通过 root 自己非正式安装。</p>

<p>使用 Android 12 和可更新的系统字体，<a href="https://android-review.googlesource.com/c/platform/system/sepolicy/+/1501158">字体文件存储在<em>/数据/字体/文件</em>中的</a>，可供所有应用读取，但只能由<em> system_server </em>和<em> init </em>写入。通过这种方式，谷歌可以推出更新的字体文件，应用程序可以读取这些文件以获得最新信息，而不管手机上一次 Android 系统更新是什么时候。作为一名应用开发者，甚至作为一名用户，你永远不必再考虑 Android 12+设备上的表情符号支持。</p>
<p class="ad-even"> </p>


<h2 id="solution-2-of-2-emojicompat-with-appcompat-1-4-android-4-4-to-android-11">解决方案 2 之二:EmojiCompat 配 AppCompat 1.4(安卓 4.4。到 Android 11)</h2>
<p>Android 12 在几周前刚刚在稳定分支中推出，要在 Android 生态系统中看到扩散还需要一段时间。所以你确实需要一个能在 Android 11 及以下版本上运行的解决方案。这个解决方案就是<a href="https://developer.android.com/guide/topics/ui/look-and-feel/emoji-compat"> EmojiCompat 支持库</a>。</p>

<p><a href="https://developer.android.com/jetpack/androidx/releases/appcompat#1.4.0-rc01"> AppCompat 1.4 </a>融入了 EmojiCompat，这意味着所有使用 AppCompat 1.4 的 app 将自动支持现代表情符号。作为一名应用程序开发人员，你只需要将你的 AppCompat 版本集成/升级到 1.4，你甚至可以在 Android 4.4 上向用户显示更新的表情符号，而无需任何人进一步努力。</p>



<p>不过有一个小问题。问题是，这是一个面向 GMS 核心的变化，需要 Google Play 服务才能发挥作用。这不像第一个解决方案那样是对老版本 Android 的 AOSP 的改变，而且因为时间和物理工作的方式，也不可能真的是那样。</p>
<p class="ad-odd"> </p>


<h2 id="android-emoji-policy-for-android-12">Android 12 的 Android 表情符号政策</h2>
<p>除了这些亮点，谷歌还为运行在 Android 12 及以上版本的应用程序添加了 Android 表情符号策略。这些应用程序必须在公开发布后 4 个月内符合最新的 Unicode 版本，并且必须通过以下三种方式之一做到这一点:</p>

<ul> <li>如果 AppCompat 已经在使用，请确保表情符号已启用。</li> <li>在应用程序的所有表面上使用现有的 EmojiCompat 库。这应该适用于直接使用 StaticLayout 的自定义视图。</li> <li>基于最新版本的 Unicode 更新表情符号的处理和字体/图像。</li> </ul>

<p>如果我的理解是正确的，最后一个选项只是要求开发者在他们的应用程序中捆绑表情符号。无论哪种方式，开发商都需要确保在 2022 年 2 月之前满足这些要求。</p>

<p>谷歌为应用程序开发人员提供了解决表情符号问题的资源，我们建议您查看这些资源:</p>


<p class="ad-even"> </p>


<h2 id="android-12l-and-unicode-14">Android 12L 和 Unicode 14</h2>
<p>昨天<a href="https://www.xda-developers.com/android-12l-optimize-android-tablets-foldables-chrome-os/">推出的 Android 12L</a>自带<a href="https://www.xda-developers.com/new-emoji-unicode-14/"> Unicode 14 支持</a>(via<em><a href="https://9to5google.com/2021/10/27/android-12l-unicode-14/">9 to 5 Google</a></em>)。Unicode 14.0 包括以下新表情符号:</p>

<ul> <li>熔化面</li> <li>睁着眼睛，手捂着嘴</li> <li>偷看的脸</li> <li>敬礼脸</li> <li>虚线面</li> <li>斜嘴脸</li> <li>忍住眼泪的脸</li> <li>右手</li> <li>左手</li> <li>手掌朝下</li> <li>手掌朝上</li> <li>食指和拇指交叉的手</li> <li>指向查看者的索引</li> <li>心手</li> <li>咬嘴唇</li> <li>戴皇冠的人</li> <li>怀孕的男人</li> <li>孕妇</li> <li>钓鱼</li> <li>珊瑚</li> <li>莲花</li> <li>空巢</li> <li>用蛋筑巢</li> <li>豆子</li> <li>倾倒液体</li> <li>冲突</li> <li>游乐场滑梯</li> <li>车轮</li> <li>救生圈</li> <li>哈萨</li> <li>镜子球</li> <li>低电量</li> <li>拐杖</li> <li>x 射线</li> <li>气泡</li> <li>身份证</li> <li>粗等号</li> </ul>

<p>此外，该版本还包括这些新表情符号的变体和肤色，使新设计总数达到 112 个。</p>

<p>长话短说，Android 的表情符号问题应该很快就会成为过去。</p>

 </div>


</div>    
</body>
</html>